{
  "comments": [
    {
      "key": {
        "uuid": "c0508152_2f92977f",
        "filename": "jjb/lf-macros.yaml",
        "patchSetId": 30
      },
      "lineNbr": 496,
      "author": {
        "id": 65
      },
      "writtenOn": "2019-08-21T00:40:44Z",
      "side": 1,
      "message": "This is going to be obtained from the releases file right? otherwise the teams will not become self serve since they will need to modify their ci-management yaml file every time they need a new release.\nIs best if we get all this information from the releases file directly and not set it up in the job yaml",
      "range": {
        "startLine": 478,
        "startChar": 0,
        "endLine": 496,
        "endChar": 67
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b121d98_aa57ccce",
        "filename": "jjb/lf-macros.yaml",
        "patchSetId": 30
      },
      "lineNbr": 496,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-08-21T14:59:20Z",
      "side": 1,
      "message": "Yes, this is to support projects that do not want to use a release file for maven builds.\nThey will have the option of \"build with parameters\"",
      "parentUuid": "c0508152_2f92977f",
      "range": {
        "startLine": 478,
        "startChar": 0,
        "endLine": 496,
        "endChar": 67
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a04cbce7_e0713f84",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 94,
      "author": {
        "id": 65
      },
      "writtenOn": "2019-08-21T00:40:44Z",
      "side": 1,
      "message": "We need to do this after the for loop because after the checkout HEAD will not point anymore to the change that we are verifying that contains the release file.\nThe proper way to do this is to process the for loop with the images and then after we can run lines 92, 93 and 94",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 94,
        "endChar": 5
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e9eae61_4ed00416",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 102,
      "author": {
        "id": 65
      },
      "writtenOn": "2019-08-21T00:58:47Z",
      "side": 1,
      "message": "This also throws \"invalid reference format\"",
      "range": {
        "startLine": 102,
        "startChar": 0,
        "endLine": 102,
        "endChar": 84
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d5522409_7b2e773a",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 102,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-08-21T14:59:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e9eae61_4ed00416",
      "range": {
        "startLine": 102,
        "startChar": 0,
        "endLine": 102,
        "endChar": 84
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8762b262_fcd4bf0e",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 105,
      "author": {
        "id": 65
      },
      "writtenOn": "2019-08-21T00:40:44Z",
      "side": 1,
      "message": "my test is picking the info from the releases file\nbut I am getting a \"invalid reference format\" Investigating still...",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 77
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac525d1a_6438d120",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 105,
      "author": {
        "id": 65
      },
      "writtenOn": "2019-08-21T00:57:26Z",
      "side": 1,
      "message": "I am not sure why we are getting this issue. In my terminal I run the following which works:\n 2015  export DOCKER_REGISTRY\u003dnexus3.onap.org\n 2016  export lfn_umbrella\u003donap\n 2017  export name\u003dexternalapi/nbi\n 2018  export version\u003d5.0.0-20190816T015028Z\n 2019  docker pull \"$DOCKER_REGISTRY\":10001/\"$lfn_umbrella\"/\"$name\":\"$version\"\n\nBut in Jenkins the pull fails. I am checking if there is an interpreter issue",
      "parentUuid": "8762b262_fcd4bf0e",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 77
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72a3c841_da17e7e2",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 105,
      "author": {
        "id": 65
      },
      "writtenOn": "2019-08-21T01:53:13Z",
      "side": 1,
      "message": "Ok.. I made it work!.. the trick is in the way we are running the command. We need to save the command in a variable and then run the command.. \nThis works:\n\ncommand\u003d\"docker pull ${DOCKER_REGISTRY}:10001/${lfn_umbrella}/${name}:${version}\"\neval \"$command\"",
      "parentUuid": "ac525d1a_6438d120",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 77
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b31cf8d1_aaea3790",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 105,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-08-21T14:59:20Z",
      "side": 1,
      "message": "This was my mistake,\n\nThe yaml output had quotes around it. I have stripped them",
      "parentUuid": "72a3c841_da17e7e2",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 77
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "51afcf8e_a348163a",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 106,
      "author": {
        "id": 65
      },
      "writtenOn": "2019-08-21T01:53:13Z",
      "side": 1,
      "message": "Not sure if this is an interpreter issue yet, but this fails with a very usless error:\n01:50:14 Build step \u0027Execute shell\u0027 marked build as failure\n\nIn my machine this works fine. Investigating still..",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 106,
        "endChar": 95
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2fe908c1_4bd635a7",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 106,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-08-21T15:00:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "51afcf8e_a348163a",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 106,
        "endChar": 95
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1a43904_dfc19cbb",
        "filename": "shell/release-job.sh",
        "patchSetId": 30
      },
      "lineNbr": 106,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-08-21T15:00:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "51afcf8e_a348163a",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 106,
        "endChar": 95
      },
      "revId": "a8cbddefd994f19167c25e9af31b7f2faf557724",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    }
  ]
}