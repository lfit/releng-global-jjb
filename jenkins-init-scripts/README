The files in this directory are for initializing a Jenkins minion just before
the cloud plugin hands the minion over to Jenkins.

init.sh is the entry point script which then calls all other scripts.

init.sh also provides a local init script entry point by checking for the
existance of the file CIMAN_ROOT/jenkins-init-scripts/local-init.sh. If this
file exists it can be used to further customize the server node before handing
it to Jenkins for job use.

To use this create a managed file in Jenkins with the contents:

    #!/bin/bash

    gerritHost=gerrit.example.org

    until host $gerritHost &>/dev/null ; do
        echo "Waiting until $gerritHost is resolvable..."
    done

    git clone --recurse-submodules https://$gerritHost/r/ci-management /opt/ciman

    # This is used to create a swapspace on the minion
    # The amount of swap space will equal SWAP_COUNT * 1m
    # so SWAP_COUNT=1k will result in s 1G swap
    export SWAP_COUNT=0

    /opt/ciman/global-jjb/jenkins-init-scripts/init.sh

    rm -rf /opt/ciman
