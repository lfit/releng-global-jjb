{
  "comments": [
    {
      "key": {
        "uuid": "b9e7a4c5_b6c718e8",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 11,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T23:46:45Z",
      "side": 1,
      "message": "Not sure this is doing anything usefull",
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c711b8b_f6a247e8",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 14,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T23:46:45Z",
      "side": 1,
      "message": "# shellcheck disable\u003dSC1090\nsource ~/lf-env.sh\n\nlf-activate-venv lftools[openstack] kubernetes python-magnumclient\n\nI might be missing a couple of packages. You delete the -l from the shebang line\n\nWhy should you make this change:\n    1. we want to move away from user venv\n    2. we want to move away from \u0027-l\u0027\n    3. we don\u0027t want to install packages with python-tools-install because it runs for all builds even ones that don\u0027t need/want kubernetes \u0026 python-magnumclient",
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2aa6a10d_c7f839df",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 14,
      "author": {
        "id": 340
      },
      "writtenOn": "2019-11-21T01:09:13Z",
      "side": 1,
      "message": "Agreed. Should we update the lf-infra-pre-build macro at some point to reflect this change in venv too?",
      "parentUuid": "9c711b8b_f6a247e8",
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "885c1e68_60965984",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 14,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-21T03:06:46Z",
      "side": 1,
      "message": "That is a hard one, this script would not depend lf-infra-pre-build (and -l), but there are still others that do. Getting rid of python-tools-install.sh is going to take awhile. It needs to happen but it will take some time. For now we just need to stop adding more dependencies on it.",
      "parentUuid": "2aa6a10d_c7f839df",
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b24cc7cf_72eced30",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 14,
      "author": {
        "id": 340
      },
      "writtenOn": "2019-11-26T00:18:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "885c1e68_60965984",
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "07afb632_d41fc885",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T23:57:41Z",
      "side": 1,
      "message": "You repeatedly reuse same openstack, how about:\nos_cmd\u003d\"openstack --os-cloud $os_cloud coe cluster show $cluster_uuid -c status -f value\"\nwhile [[ $($os_cmd) \u003d\u003d \"CREATE_IN_PROGRESS\" ]]; do\n\nThen you can reuse $os_cmd on following: if [[ $($os_cmd) \u003d\u003d \"CREATE_COMPLETE\" ]]; then\nSolve the \u0027long-line\u0027 problems and makes it more readable.",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 80,
        "endChar": 2
      },
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f4636b4_1eb3a477",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 340
      },
      "writtenOn": "2019-11-21T01:09:13Z",
      "side": 1,
      "message": "It will have to be in a function so it rechecks ever time, but fine by me.",
      "parentUuid": "07afb632_d41fc885",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 80,
        "endChar": 2
      },
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8700611b_c4cecce7",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-21T03:06:46Z",
      "side": 1,
      "message": "It wouldn\u0027t have to be in a function, just $($os_cmd)",
      "parentUuid": "6f4636b4_1eb3a477",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 80,
        "endChar": 2
      },
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27b78e69_88a39c3a",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 340
      },
      "writtenOn": "2019-11-21T04:49:56Z",
      "side": 1,
      "message": "That will only evaluate the first time as a variable though, right? E.g.\n\nmydate\u003d$(date)\n\nwhile [ 1 \u003d\u003d 1 ]\ndo\n\techo \"$mydate\"\n\tsleep 1\ndone\n\n\nvs.\n\n\nfunction mydate {\n\techo \"$(date)\"\n}\n\n\nwhile [ 1 \u003d\u003d 1 ]\ndo\n\tmydate\n\tsleep 1\ndone",
      "parentUuid": "8700611b_c4cecce7",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 80,
        "endChar": 2
      },
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "96b73d93_1ab332a5",
        "filename": "shell/openstack-kubernetes-create.sh",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 340
      },
      "writtenOn": "2019-11-25T23:35:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27b78e69_88a39c3a",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 80,
        "endChar": 2
      },
      "revId": "0736062d9318533d7353dede1b5d748d0aa20384",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    }
  ]
}