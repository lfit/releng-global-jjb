{
  "comments": [
    {
      "key": {
        "uuid": "e4e82597_33de22ae",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T18:52:49Z",
      "side": 1,
      "message": "Adding this would be optional (outside scope of you the current change)\n# shellcheck disable\u003dSC1090\nsource ~/lf-env.sh\n\nlf-activate-venv lftools[nexus] jsonschema niet twine yq\n\nThen you could/should remove the \u0027-l\u0027 from the she-bang",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 20,
        "endChar": 0
      },
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36d7b7e5_56b55019",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T19:15:44Z",
      "side": 1,
      "message": "This will need to be part of a new change.",
      "parentUuid": "e4e82597_33de22ae",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 20,
        "endChar": 0
      },
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b81270c_40a25ec4",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 345,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T18:42:56Z",
      "side": 1,
      "message": "@Aric, I made the verify exit 1 and echo the error message",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b04a942_75be0949",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 345,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T19:15:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6b81270c_40a25ec4",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "71753912_af1c1654",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 354,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-11-19T18:36:47Z",
      "side": 1,
      "message": "bad paste",
      "range": {
        "startLine": 354,
        "startChar": 149,
        "endLine": 354,
        "endChar": 153
      },
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf2cba50_ac53debc",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 354,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T18:42:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71753912_af1c1654",
      "range": {
        "startLine": 354,
        "startChar": 149,
        "endLine": 354,
        "endChar": 153
      },
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d667ec5_d1a88937",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 354,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T18:52:49Z",
      "side": 1,
      "message": "Not sure what you are up to with this curl | echo \"INFO\"\n\nPolicy is to keep lines under 80 chars, probably not realistic but at least keep it under 100.\ncurl \".....\" \\\n    | echo",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "457f379a_641a08a9",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 354,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T19:15:44Z",
      "side": 1,
      "message": "This is the actual restapi call to promote a package, I could remove the echo, but then it outputs a json of information about the promoted package",
      "parentUuid": "7d667ec5_d1a88937",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56f8da42_1ddc5b3c",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 354,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T19:29:49Z",
      "side": 1,
      "message": "I think the output from the curl will be sent to stdin for echo and echo will discard it. The echo will still echo the string you specified. I have not of testing this other than:\n\u003d\u003d\u003e ls | echo string\nYou will NOT see the output of the \u0027ls\u0027\nMaybe what you want is two commands:\ncurl --netrc-file ~/.packagecloud_api -X POST -F destination\u003do-ran-sc/release $promote_url \u003e /dev/null\necho \"INFO: Promoted package location: https://packagecloud.io$(jq -r .package_html_url)\"",
      "parentUuid": "457f379a_641a08a9",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0cc5cf2_2ecd18cb",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 354,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T21:39:28Z",
      "side": 1,
      "message": "When you chose not to address the echo I took another look at this. I now understand what this is doing and it does make sense. The shell does not connect stdout of the curl to stdin for echo, it connects the stdout of curl to the stdin for the $(jq .packackage_html_url) which is really cool (not sure how bash figures out to do this). You still can/should extend this command over multiple lines:\ncurl --netrc-file ~/.packagecloud_api -X POST -F destination\u003do-ran-sc/release $promote_url \\\n   | echo \"INFO: Promoted package location: https://packagecloud.io$(jq -r .package_html_url)\"\nThis does not change the functionality but does improve readability.",
      "parentUuid": "56f8da42_1ddc5b3c",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "029082f5_60d23b11",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 354,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T21:46:47Z",
      "side": 1,
      "message": "Whoops, I didn\u0027t see your comment earlier, it was pasted from my testing, so I will definitely format it. Thanks!",
      "parentUuid": "e0cc5cf2_2ecd18cb",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "922acda4_1470ceb4",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 357,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T18:52:49Z",
      "side": 1,
      "message": "When you have a bunch of functions at the top of a script a script (GR8 practice) it is kinda nice to have a big comment to help you find when \u0027real code starts.\n\n##############################  End Function Declarations  ################################",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1429c200_58472e92",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 357,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T19:15:44Z",
      "side": 1,
      "message": "This will likely need to be part of that other new change",
      "parentUuid": "922acda4_1470ceb4",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "721ca27b_6300def0",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 365,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T18:52:49Z",
      "side": 1,
      "message": "A switch statement is really much more readable that multiple if-then-else. But it was already here so just leave it.",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3699b177_acf1993c",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 365,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T19:29:49Z",
      "side": 1,
      "message": "just a comment, definitely outside the scope if your current change",
      "parentUuid": "721ca27b_6300def0",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a35e6535_4a11476d",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 386,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T18:52:49Z",
      "side": 1,
      "message": "lower-case distribution_type does not appear to be defined anywhere\nAlso, you do NOT need to quote variables inside of \u0027[[]]\u0027. It is general practice to still quote string constants even though they are inside \u0027[[]]\u0027.",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a2cb0f5_787b2c31",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 386,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T19:15:44Z",
      "side": 1,
      "message": "I am not sure who wrote the pypi piece, but this will also need to be part of the other new change.",
      "parentUuid": "a35e6535_4a11476d",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "209e6d7a_d70f95ec",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 386,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-11-19T19:29:49Z",
      "side": 1,
      "message": "distribution_type is and undefined variable, I think you want DISTRIBUTION_TYPE",
      "parentUuid": "4a2cb0f5_787b2c31",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca2a5d77_998de9a0",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 406,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T18:42:56Z",
      "side": 1,
      "message": "Added the if job_name part, and removed the status code conditional.",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf985ebd_b7d80da2",
        "filename": "shell/release-job.sh",
        "patchSetId": 3
      },
      "lineNbr": 406,
      "author": {
        "id": 325
      },
      "writtenOn": "2019-11-19T19:15:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ca2a5d77_998de9a0",
      "revId": "e5390103f4dca2f5a27076d3fd2c1099b2f1576f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    }
  ]
}