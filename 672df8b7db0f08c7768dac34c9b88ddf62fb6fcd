{
  "comments": [
    {
      "key": {
        "uuid": "c9616953_3b907890",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-09-23T20:01:17Z",
      "side": 1,
      "message": "As I understand it there are two Python virtural envs the system one and an optional \u0027user\u0027 venv  which is located in ~/.local. \n\nDoes the \u0027user\u0027 venv already exist when this script runs ? If so, how was it created and was it python2 or python3 ?",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a2d239c_cb520e36",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-09-23T20:35:45Z",
      "side": 1,
      "message": "unless you see virtualenv or python -m venv we are in system python.",
      "parentUuid": "c9616953_3b907890",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb4d8df1_e88862cb",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1
      },
      "writtenOn": "2019-09-23T20:41:47Z",
      "side": 1,
      "message": "My understanding is as follows:\n\nIIRC using --user will cause pip modules to e installed into a ~/.local library install. These take precedence over any system level libraries. In any case it\u0027s not a \"virtualenv\" in the same way as a regular virtualenv is as it utilizes the system level libraries as well.",
      "parentUuid": "c9616953_3b907890",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2f13a99_722228ab",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-09-23T20:57:39Z",
      "side": 1,
      "message": "That is my understanding and that is consistent with the testing I am doing on these commands. What I can\u0027t figure out is who creates the \u0027user\u0027 pyenv ? When I run \"python3 -m pip xxx\" before the \u0027user\u0027 pyenv exists I get: /usr/bin/python3: No module named pip. Also if I do a \u0027pip list\u0027 on my \u0027user\u0027 venv it lists all packages in system as well as the \u0027user\u0027 venv.",
      "parentUuid": "fb4d8df1_e88862cb",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "310f371b_0ea1f195",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-09-23T21:02:12Z",
      "side": 1,
      "message": "yum install python36-pip",
      "parentUuid": "f2f13a99_722228ab",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e0752f72_da228f7e",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-09-23T21:06:10Z",
      "side": 1,
      "message": "https://gerrit.linuxfoundation.org/infra/c/ansible/roles/python-install/+/61712/4/vars/RedHat.yml",
      "parentUuid": "310f371b_0ea1f195",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04776234_80f835cf",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-09-23T21:33:19Z",
      "side": 1,
      "message": "\u0027yum install\u0027 does not create /home/jenkins/.local. It might create /opt/venv.",
      "parentUuid": "310f371b_0ea1f195",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab92c6ff_05b3e796",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-09-23T20:01:17Z",
      "side": 1,
      "message": "where is pip being installed ? /opt/vevn or ~/.local",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a39aa5a_aecbbe6d",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-09-23T20:35:45Z",
      "side": 1,
      "message": "system python",
      "parentUuid": "ab92c6ff_05b3e796",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9d91117_402c9fb9",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-09-23T20:38:11Z",
      "side": 1,
      "message": "pip defaults to installing Python packages to a system directory (such as /usr/local/lib/python3.6). This requires root access.\n\n--user makes pip install packages in your home directory instead, which doesn\u0027t require any special privileges. ~/.local",
      "parentUuid": "6a39aa5a_aecbbe6d",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71b5880b_5bdbc170",
        "filename": "shell/python-tools-install.sh",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1
      },
      "writtenOn": "2019-09-23T20:41:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b9d91117_402c9fb9",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "229df228_ed419088",
        "filename": "shell/tox-run.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-09-23T20:01:17Z",
      "side": 1,
      "message": "I appears to use a venv installed in \u0027/opt/pyenv\u0027 who/how is this venv created. It does appear to use the tox from there.",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7acccd3e_c8103078",
        "filename": "shell/tox-run.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 12
      },
      "writtenOn": "2019-09-23T20:35:45Z",
      "side": 1,
      "message": "its pyenv not a venv.\nwe use pyenv for tox runs.",
      "parentUuid": "229df228_ed419088",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d71f943_e9da7d29",
        "filename": "shell/tox-run.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1
      },
      "writtenOn": "2019-09-23T20:41:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7acccd3e_c8103078",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e651c26b_6535dc6d",
        "filename": "shell/tox-run.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 182
      },
      "writtenOn": "2019-09-23T21:33:19Z",
      "side": 1,
      "message": "who creates /opt/pyenv ? Does it contain tox and if so who installed it ? Is is possible that it only gets created on centos ?",
      "parentUuid": "5d71f943_e9da7d29",
      "revId": "672df8b7db0f08c7768dac34c9b88ddf62fb6fcd",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    }
  ]
}